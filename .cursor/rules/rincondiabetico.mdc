---
description: 
globs: 
alwaysApply: true
---
# RincÃ³n DiabÃ©tico - Ecommerce de Postres

## Contexto del Proyecto
Ecommerce de postres y dulces para tienda fÃ­sica en Chiguayante, Chile.
Solo retiro en tienda, sin delivery.

## Stack TecnolÃ³gico
- **Frontend/Backend**: Next.js 15 App Router + TypeScript
- **Styling**: Tailwind CSS v4
- **Base de datos**: NeonDB (PostgreSQL) + Prisma ORM
- **AutenticaciÃ³n**: Clerk (admin + clientes)
- **Pagos**: WebPay Plus (Transbank Chile)
- **ImÃ¡genes**: Cloudinary
- **Deployment**: Vercel

## Estado Actual del Proyecto âœ…

### PÃ¡ginas Implementadas
- âœ… **PÃ¡gina de Inicio**: Carousel de banners, productos destacados, especialidades, CTA, redes sociales
- âœ… **CatÃ¡logo de Productos**: Grid con filtros por categorÃ­a, bÃºsqueda, paginaciÃ³n
- âœ… **PÃ¡gina Individual de Producto**: Detalles, imÃ¡genes, breadcrumbs, productos relacionados
- âœ… **Carrito de Compras**: Lista de productos, control de cantidad, resumen de pedido
- âœ… **Sobre Nosotros**: Historia, misiÃ³n, valores, compromiso
- âœ… **Contacto**: InformaciÃ³n de tienda, formulario, mapa placeholder
- âœ… **Panel Admin**: CRUD productos, categorÃ­as, dashboard
- âœ… **AutenticaciÃ³n**: Sign in/up con Clerk

### Componentes Desarrollados
- âœ… **Navbar**: NavegaciÃ³n responsive con carrito animado
- âœ… **Footer**: InformaciÃ³n completa, redes sociales, horarios
- âœ… **HeroCarousel**: Carousel automÃ¡tico con 3 banners
- âœ… **FeaturedProducts**: Productos destacados con animaciones
- âœ… **ProductsGrid**: Grid de productos con filtros
- âœ… **CategoriesFilter**: Filtrado por categorÃ­as
- âœ… **AddToCartButton**: BotÃ³n con feedback visual
- âœ… **Toast System**: Notificaciones de acciones
- âœ… **Product Forms**: Formularios admin con validaciÃ³n

### Funcionalidades Implementadas
- âœ… **GestiÃ³n de Productos**: CRUD completo con imÃ¡genes mÃºltiples
- âœ… **GestiÃ³n de CategorÃ­as**: CRUD completo
- âœ… **Carrito de Compras**: Persistencia en localStorage, animaciones
- âœ… **Sistema de Roles**: Admin y clientes diferenciados
- âœ… **Upload de ImÃ¡genes**: IntegraciÃ³n con Cloudinary
- âœ… **NavegaciÃ³n**: Breadcrumbs, enlaces internos
- âœ… **Responsive Design**: Mobile-first en todas las pÃ¡ginas
- âœ… **SEO**: Metadata optimizada en todas las pÃ¡ginas

## Estructura del Proyecto
```
src/
â”œâ”€â”€ app/                    # App Router pages
â”‚   â”œâ”€â”€ (admin)/           # Admin panel routes âœ…
â”‚   â”œâ”€â”€ (auth)/            # Auth pages âœ…
â”‚   â”œâ”€â”€ productos/         # Product catalog âœ…
â”‚   â”œâ”€â”€ carrito/           # Shopping cart âœ…
â”‚   â”œâ”€â”€ sobre-nosotros/    # About page âœ…
â”‚   â”œâ”€â”€ contacto/          # Contact page âœ…
â”‚   â””â”€â”€ api/               # API routes âœ…
â”œâ”€â”€ components/            # Reusable components
â”‚   â”œâ”€â”€ ui/               # Base UI components âœ…
â”‚   â”œâ”€â”€ admin/            # Admin components âœ…
â”‚   â”œâ”€â”€ client/           # Client components âœ…
â”‚   â””â”€â”€ shared/           # Shared components âœ…
â”œâ”€â”€ lib/                  # Utilities âœ…
â”œâ”€â”€ types/                # TypeScript types âœ…
â””â”€â”€ hooks/                # Custom hooks (pendiente)
```

## InformaciÃ³n de la Tienda
- **DirecciÃ³n**: Progreso 393, Chiguayante, RegiÃ³n del BiobÃ­o, Chile
- **WhatsApp**: +56 9 1234 5678
- **Email**: contacto@rincondiabetico.cl
- **Horarios**: 
  - Lunes a Viernes: 9:00 - 19:00
  - SÃ¡bados: 9:00 - 17:00
  - Domingos: 10:00 - 15:00

## Reglas de CÃ³digo (Actualizadas)

### General
- Usar TypeScript estricto
- Componentes funcionales con hooks
- Server Components por defecto, Client Components solo cuando necesario
- Nombres en espaÃ±ol para UI/UX, cÃ³digo en inglÃ©s
- Comentarios en espaÃ±ol para lÃ³gica de negocio

### Naming Conventions
- Componentes: PascalCase (ProductCard.tsx)
- Archivos: kebab-case (product-card.tsx)
- Variables/funciones: camelCase
- Constantes: UPPER_CASE
- Carpetas: kebab-case

### Componentes
- Un componente por archivo
- Props interface antes del componente
- Default export al final
- Usar cn() para clases condicionales
- Separar lÃ³gica en custom hooks cuando sea complejo
- **Props opcionales**: Siempre incluir className?: string para flexibilidad

### Base de Datos (Schema Actual)
- **Product**: id, name, slug, description, price, images[], isActive, isAvailable, stock, categoryId
- **Category**: id, name, slug, description, isActive
- **User**: Sincronizado con Clerk

### API Routes
- Usar App Router API routes
- ValidaciÃ³n con Zod
- Manejo de errores consistente
- Respuestas tipadas

### Estilos
- Tailwind CSS v4
- Mobile-first responsive design
- Animaciones CSS personalizadas (bounce-soft, fade-in, slide-up)
- Gradientes y sombras modernas
- Hover effects consistentes

## Mejoras Propuestas ðŸš€

### PrÃ³ximas Funcionalidades (Prioridad Alta)
1. **Sistema de Pedidos**
   - Modelo Order en Prisma
   - Estados: PENDIENTE, PREPARANDO, LISTO, RETIRADO, CANCELADO
   - PÃ¡gina de checkout
   - ConfirmaciÃ³n por email/WhatsApp
   - Dashboard de pedidos para admin

2. **IntegraciÃ³n WebPay Plus**
   - API routes para Transbank
   - Manejo de webhooks
   - Estados de pago
   - Confirmaciones automÃ¡ticas

3. **Sistema de Notificaciones**
   - Email templates con Resend
   - WhatsApp API integration
   - Notificaciones push (opcional)

### Mejoras de UX/UI (Prioridad Media)
4. **BÃºsqueda Avanzada**
   - Filtros por precio, disponibilidad
   - Ordenamiento (precio, nombre, fecha)
   - BÃºsqueda por ingredientes

5. **GestiÃ³n de Stock**
   - Control de inventario
   - Alertas de stock bajo
   - Reserva temporal en carrito

6. **Wishlist/Favoritos**
   - Guardar productos favoritos
   - PÃ¡gina de favoritos
   - Compartir listas

### Optimizaciones TÃ©cnicas (Prioridad Media)
7. **Performance**
   - Image optimization con Next.js
   - Lazy loading en productos
   - Cache strategies
   - Bundle analysis

8. **SEO Avanzado**
   - Sitemap automÃ¡tico
   - Structured data (JSON-LD)
   - Open Graph images
   - Meta tags dinÃ¡micas

9. **Analytics & Tracking**
   - Google Analytics 4
   - Conversion tracking
   - Heatmaps (Hotjar)
   - Error monitoring (Sentry)

### Funcionalidades Avanzadas (Prioridad Baja)
10. **PersonalizaciÃ³n**
    - Calculadora nutricional
    - Recomendaciones personalizadas
    - Historial de pedidos

11. **Marketing**
    - Sistema de cupones/descuentos
    - Programa de lealtad
    - Newsletter integration

12. **GestiÃ³n Avanzada**
    - Reportes de ventas
    - AnÃ¡lisis de productos populares
    - GestiÃ³n de horarios especiales

## Comandos Importantes
- `npm run dev` - Desarrollo con Turbopack
- `npx prisma generate` - Generar cliente Prisma
- `npx prisma db push` - Aplicar cambios a BD
- `npx prisma studio` - Interface grÃ¡fica BD

## Consideraciones Chilenas
- Moneda: CLP (pesos chilenos) sin centavos
- Formato nÃºmeros: 1.234.567
- WebPay Plus para pagos
- Horarios comerciales locales
- TÃ©rminos legales chilenos

## Roadmap Sugerido

### Fase 1 (Inmediata - 1-2 semanas)
- [ ] Sistema de pedidos bÃ¡sico
- [ ] Checkout sin pagos (solo formulario)
- [ ] Email de confirmaciÃ³n

### Fase 2 (Corto plazo - 1 mes)
- [ ] IntegraciÃ³n WebPay Plus
- [ ] Dashboard de pedidos
- [ ] GestiÃ³n de stock bÃ¡sica

### Fase 3 (Mediano plazo - 2-3 meses)
- [ ] Optimizaciones de performance
- [ ] Analytics y tracking
- [ ] Funcionalidades avanzadas de bÃºsqueda

### Fase 4 (Largo plazo - 6 meses)
- [ ] PersonalizaciÃ³n y recomendaciones
- [ ] Sistema de marketing
- [ ] Reportes avanzados

## Notas de Desarrollo
- Mantener consistencia en el diseÃ±o
- Priorizar la experiencia mÃ³vil
- Testear en dispositivos reales
- Backup regular de la base de datos
- Documentar cambios importantes

